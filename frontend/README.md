# Frontend

Веб-интерфейс для RAG-support системы. Включает два Streamlit приложения и встраиваемый HTML/JS интерфейс.

## Структура

### Streamlit приложения

#### `operator_app.py`
Интерфейс для операторов техподдержки:
- Поиск ответов по вопросам клиентов (Find answer)
- Редактирование черновиков ответов
- Просмотр альтернативных формулировок
- Отмена правок (Revert)
- Копирование ответов (Copy)
- Отправка обратной связи на модерацию (Send feedback)
- Добавление новых Q&A пар в базу
- Просмотр метаданных источников (категории, таксономия)

#### `moderator_app.py`
Интерфейс для модераторов:
- Просмотр очереди правок от операторов
- Визуальное сравнение старых и новых ответов (diff)
- Одобрение правок (Approve)
- Отклонение правок (Reject)
- Статистика модерации
- Coverage по категориям
- Активность операторов

### Встраиваемый интерфейс

#### `embed.html`
Легковесная HTML страница для встраивания в iframe:
- Минимальный чистый JavaScript
- Базовый поиск и редактирование
- Интеграция через iframe

#### `embed.js`
Bookmarklet и iframe injector для интеграции в сторонние системы:
- Горячие клавиши (Ctrl+Shift+K)
- Автоматическая вставка выделенного текста
- Сайд-панель справа

### Конфигурация

#### `config.py`
Централизованная конфигурация API endpoints и параметров.

#### `.streamlit/config.toml`
Настройки темы и сервера Streamlit.

#### `requirements.txt`
Python зависимости для всех интерфейсов.

#### `Dockerfile`
Контейнеризация frontend сервисов.

#### `docker-compose.yml`
Оркестрация операторского и модераторского интерфейсов.

### Скрипты запуска

#### `run_operator.sh`
Запуск интерфейса оператора на порту 8501.

#### `run_moderator.sh`
Запуск интерфейса модератора на порту 8502.

## Быстрый старт

### Локально

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Создайте `.env` файл:
```
API_BASE_URL=http://localhost:8000
```

3. Запустите интерфейсы:
```bash
streamlit run operator_app.py
streamlit run moderator_app.py --server.port 8502
```

### Docker

```bash
docker-compose up -d
```

Интерфейсы будут доступны:
- Оператор: http://localhost:8501
- Модератор: http://localhost:8502

## Особенности

- Streamlit для быстрой разработки UI
- Адаптивный дизайн
- Горячие клавиши для продуктивности
- Визуальный diff для сравнения правок
- Статистика и аналитика в реальном времени
- Docker ready
- Возможность встраивания (iframe)

## Подробная документация

- **`MAC_SETUP.md`** - Установка на macOS (Arc браузер) с правильными горячими клавишами
- **`QUICKSTART.md`** - Быстрый старт за 3 минуты
- **`SETUP.md`** - Детальные инструкции по установке и настройке
- **`ABOUT_MODES.md`** - Объяснение режимов работы (Streamlit vs iframe/bookmarklet)
- **`BOOKMARKLET.md`** - Встраиваемая панель через bookmarklet
- **`test_bookmarklet.html`** - Тестовая страница для проверки bookmarklet
