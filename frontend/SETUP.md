# Инструкция по запуску интерфейсов

## Установка зависимостей

### С использованием pip:
```bash
cd frontend
pip install -r requirements.txt
```

### С использованием pipenv (рекомендуется):
```bash
cd ..
pipenv install streamlit requests pandas python-dotenv
```

## Настройка

Создайте файл `.env` в директории `frontend`:
```
API_BASE_URL=http://localhost:8000
API_TIMEOUT=10
```

## Запуск интерфейсов

### Локально

**Интерфейс оператора** (порт 8501):
```bash
streamlit run operator_app.py
```

**Интерфейс модератора** (порт 8502):
```bash
streamlit run moderator_app.py --server.port 8502
```

Или используйте готовые скрипты:
```bash
chmod +x run_operator.sh run_moderator.sh
./run_operator.sh
./run_moderator.sh
```

### Docker

**Запуск обоих интерфейсов:**
```bash
docker-compose up -d
```

**Запуск только оператора:**
```bash
docker-compose up -d operator
```

**Запуск только модератора:**
```bash
docker-compose up -d moderator
```

## Доступ к интерфейсам

После запуска интерфейсы будут доступны по адресам:

- Оператор: http://localhost:8501
- Модератор: http://localhost:8502

## Функции

### Интерфейс оператора:
- Поиск ответов по вопросам клиентов
- Редактирование черновиков ответов
- Просмотр альтернативных формулировок
- Отправка feedback на модерацию
- Добавление новых Q&A пар
- Просмотр метаданных источников

### Интерфейс модератора:
- Просмотр очереди правок
- Сравнение старых и новых ответов (diff)
- Одобрение/отклонение правок
- Просмотр статистики модерации
- Coverage по категориям
- Активность операторов

## Требования

- Python 3.8+
- Работающий backend API на порту 8000
- Доступ к интернету (для загрузки Streamlit assets)

## Проблемы и решения

**Ошибка подключения к API:**
- Убедитесь, что backend запущен на указанном порту
- Проверьте переменную окружения API_BASE_URL

**Порт уже занят:**
- Используйте другой порт: `streamlit run operator_app.py --server.port 8503`

**Streamlit не обновляется:**
- Нажмите 'R' в интерфейсе или используйте кнопку "Rerun"

