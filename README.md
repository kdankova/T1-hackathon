# RAG Support System

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–∞–Ω–∫–∞ –Ω–∞ –±–∞–∑–µ RAG (Retrieval Augmented Generation) —Å –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.

**–ö–æ–º–∞–Ω–¥–∞:** T1 Hackathon 2024  
**–î–µ–º–æ:** [Cloudflare deployment](#—Ç–µ–∫—É—â–∏–µ-–ø—É–±–ª–∏—á–Ω—ã–µ-—Å—Å—ã–ª–∫–∏-–¥–µ–º–æ)

---

## –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **Hybrid Search:** FAISS + BM25 –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏  
‚úÖ **Continuous Learning:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –∏–∑ production –æ–ø—ã—Ç–∞  
‚úÖ **Zero Downtime Updates:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞  
‚úÖ **Sub-second Response:** < 1 —Å–µ–∫—É–Ω–¥–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å (–±–µ–∑ LLM)  
‚úÖ **Operator-friendly UI:** Streamlit –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å –Ω—É–ª–µ–≤—ã–º –ø–æ—Ä–æ–≥–æ–º –≤—Ö–æ–¥–∞  
‚úÖ **Production Ready:** Docker + Cloudflare tunnels = deploy –∑–∞ –º–∏–Ω—É—Ç—ã

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[User Flow Scenarios](USER_FLOWS.md)** - 8 –¥–µ—Ç–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **[Architecture & Impact](ARCHITECTURE.md)** - –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ
- **[API Reference](#api-endpoints)** - REST API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

1. **Backend API** (FastAPI) - REST API –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π –∏ —Å–±–æ—Ä–∞ feedback
2. **Operator UI** (Streamlit) - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
3. **Moderator UI** (Streamlit) - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**Backend:**
- Python 3.13 + FastAPI (async/await)
- FAISS + BM25 (Hybrid Retrieval)
- BGE-M3 embeddings via SciBox API
- SQLite + SQLAlchemy 2.0 (async)
- Pandas (in-memory data processing)

**Frontend:**
- Streamlit (Operator UI + Moderator UI)
- requests + session state

**Infrastructure:**
- Docker + Docker Compose
- Cloudflare tunnels (production access)
- nginx (optional, for custom domains)

## –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

1. **–ü–æ–∏—Å–∫**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ensemble –ø–æ–¥—Ö–æ–¥ - –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ (FAISS + BGE-M3) –∏ –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ (BM25) –ø–æ–∏—Å–∫–∞
2. **–û—Ç–≤–µ—Ç—ã**: –í–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —à–∞–±–ª–æ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (–±–µ–∑ LLM –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
3. **–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π**: 536+ –∑–∞–ø–∏—Å–µ–π –≤–æ–ø—Ä–æ—Å–æ–≤-–æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV
4. **Feedback**: –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ –Ω–µ—Ç–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –∏ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
5. **–ú–æ–¥–µ—Ä–∞—Ü–∏—è**: –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç –ø—Ä–∞–≤–∫–∏ –∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Ä–µ—à–µ–Ω–∏–µ (approve/reject)
6. **–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ**: –ü—Ä–∏ approve –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –∏–Ω–¥–µ–∫—Å—ã –ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è, CSV —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–î–ª—è Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
- Docker
- Docker Compose

**–î–ª—è –∑–∞–ø—É—Å–∫–∞ –±–µ–∑ Docker:**
- Python 3.13+
- pip

---

## –í–∞—Ä–∏–∞–Ω—Ç 1: Docker Compose (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone <repository-url>
cd T1-hackathon
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
cp env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –∏ —É–∫–∞–∂–∏—Ç–µ –≤–∞—à API –∫–ª—é—á –æ—Ç SciBox:

```env
API_KEY=your_scibox_api_key_here
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã

```bash
docker-compose up -d
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

- Backend API: http://localhost:8000
- Swagger UI: http://localhost:8000/docs
- Operator UI: http://localhost:8501

### 5. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f

# –¢–æ–ª—å–∫–æ backend
docker-compose logs -f backend

# –¢–æ–ª—å–∫–æ frontend
docker-compose logs -f frontend
```

### 6. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã

```bash
docker-compose down
```

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å–∫ –±–µ–∑ Docker

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone <repository-url>
cd T1-hackathon
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# Backend
cd backend
pip install -r requirements.txt

# Frontend
cd ../frontend
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `backend/.env`:

```env
API_KEY=your_scibox_api_key
LLM_BASE_URL=https://llm.t1v.scibox.tech/v1
LLM_MODEL=Qwen2.5-72B-Instruct-AWQ
DATABASE_URL=sqlite+aiosqlite:///./data/feedback.db
```

### 4. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª `backend/data/knowledge_base_augmented2.csv` –Ω–∞ –º–µ—Å—Ç–µ.

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã

#### –í—Ä—É—á–Ω—É—é –≤ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Backend:**
```bash
cd backend
python3.13 -m uvicorn app.main:app --host 0.0.0.0 --port 8000
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Operator UI:**
```bash
cd frontend
python3.13 -m streamlit run operator_app.py --server.port=8501
```

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ (—Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Linux)

```bash
bash start_all.sh
```

### 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

- Backend API: http://localhost:8000
- Swagger UI: http://localhost:8000/docs
- Operator UI: http://localhost:8501

## API Endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- `GET /` - healthcheck
- `POST /api/search` - –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
- `POST /api/feedback` - –æ—Ç–ø—Ä–∞–≤–∫–∞ feedback –æ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
- `GET /api/moderation/pending` - —Å–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–æ–∫ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- `POST /api/moderation/resolve` - –ø—Ä–∏–Ω—è—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å –ø—Ä–∞–≤–∫—É
- `GET /api/moderation/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X POST http://localhost:8000/api/search \
  -H "Content-Type: application/json" \
  -d '{
    "query": "–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –∫–∞—Ä—Ç—É MORE?",
    "top_k": 3
  }'
```

## Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

**–õ–æ–∫–∞–ª—å–Ω–æ:** http://localhost:8000/docs

## –¢–µ–∫—É—â–∏–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏ (–¥–µ–º–æ)

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: Cloudflare —Ç—É–Ω–Ω–µ–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏ –º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö URL –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
T1-hackathon/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py           # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rag_service.py    # RAG –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ embeddings.py     # BGE-M3 —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py       # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py         # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.py         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ knowledge_base_augmented2.csv  # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile            # Docker –æ–±—Ä–∞–∑ backend
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ operator_app.py       # UI –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ moderator_app.py      # UI –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py             # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile            # Docker –æ–±—Ä–∞–∑ frontend
‚îú‚îÄ‚îÄ docker-compose.yml        # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è Docker
‚îú‚îÄ‚îÄ env.example               # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ start_all.sh              # –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ (Linux)
‚îú‚îÄ‚îÄ README.md                 # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ USER_FLOWS.md             # –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ ARCHITECTURE.md           # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SciBox API

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ SciBox API:
- **BGE-M3** - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ —Ç–µ–∫—Å—Ç–∞
- Endpoint: `https://llm.t1v.scibox.tech/v1/embeddings`

LLM –≥–µ–Ω–µ—Ä–∞—Ü–∏—è **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** - –æ—Ç–≤–µ—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π.

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
bash /home/kate/T1-hackathon/start_all.sh
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
pkill -f "uvicorn\|streamlit\|cloudflared"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
tail -f /tmp/backend.log      # Backend
tail -f /tmp/operator.log     # Operator UI
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

```bash
ps aux | grep -E "(uvicorn|streamlit|cloudflared)" | grep -v grep
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π

1. –û—Ç–∫—Ä–æ–π—Ç–µ `backend/data/knowledge_base_augmented2.csv`
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
   - –û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è
   - –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è
   - –ü—Ä–∏–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞
   - –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
   - –®–∞–±–ª–æ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
   - is_original
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend –¥–ª—è –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Swagger

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/docs
2. –í—ã–±–µ—Ä–∏—Ç–µ endpoint (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/api/search`)
3. –ù–∞–∂–º–∏—Ç–µ "Try it out"
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
5. –ù–∞–∂–º–∏—Ç–µ "Execute"

## –ú–µ—Ö–∞–Ω–∏–∑–º –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤:

### Workflow

1. **–û–ø–µ—Ä–∞—Ç–æ—Ä –Ω–∞—Ö–æ–¥–∏—Ç –Ω–µ—Ç–æ—á–Ω—ã–π –æ—Ç–≤–µ—Ç**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–∏—Å–∫ –≤ Operator UI
   - –í–∏–¥–∏—Ç –Ω–µ—Ç–æ—á–Ω—ã–π –∏–ª–∏ –Ω–µ–ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç
   - –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ –æ—Ç–≤–µ—Ç"

2. **–û—Ç–ø—Ä–∞–≤–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
   - –û–ø–µ—Ä–∞—Ç–æ—Ä –≤–≤–æ–¥–∏—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
   - –ù–∞–∂–∏–º–∞–µ—Ç "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é"
   - –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–∞–≤–∫—É –≤ –ë–î —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `pending`

3. **–ú–æ–¥–µ—Ä–∞—Ü–∏—è**
   - –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Moderator UI (–ø–æ—Ä—Ç 8502)
   - –í–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∞–≤–æ–∫ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
   - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–π –∏ –Ω–æ–≤—ã–π –æ—Ç–≤–µ—Ç—ã
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ: Approve / Reject

4. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–ø—Ä–∏ Approve)**
   - Backend –æ–±–Ω–æ–≤–ª—è–µ—Ç DataFrame —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è –∏–Ω–¥–µ–∫—Å—ã (FAISS + BM25)
   - CSV —Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –¥–∏—Å–∫
   - –°–ª–µ–¥—É—é—â–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –±–∞–∑—É

5. **–†–µ–∑—É–ª—å—Ç–∞—Ç**
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)
   - –í—Å–µ –Ω–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
   - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î –¥–ª—è –∞—É–¥–∏—Ç–∞

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞

- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- –ù–µ –∑–∞–º–µ–¥–ª—è–µ—Ç –∏–Ω—Ñ–µ—Ä–µ–Ω—Å (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
- –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ –º–æ–¥–µ—Ä–∞—Ü–∏—é
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ CSV
- –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–∞–≤–æ–∫ –≤ –ë–î

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–î–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑:
- Moderator UI (–±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å)
- API endpoint: `GET /api/moderation/stats`

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∞–≤–æ–∫ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–Ω—è—Ç—ã—Ö –ø—Ä–∞–≤–æ–∫
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–æ–∫

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **Latency:** < 1 —Å–µ–∫—É–Ω–¥–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å (P95)
- **Throughput:** 2000+ req/s (1 worker)
- **Index rebuild:** 3-8 —Å–µ–∫—É–Ω–¥ (536 documents)
- **Memory:** 512 MB (—Å –∏–Ω–¥–µ–∫—Å–∞–º–∏)
- **Scalability:** Stateless API ‚Üí –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ [ARCHITECTURE.md](ARCHITECTURE.md).

---

## Roadmap

### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ multi-tenancy (–Ω–µ—Å–∫–æ–ª—å–∫–æ –±–∞–Ω–∫–æ–≤)
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ (trending topics)
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤
- [ ] Telegram bot –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:
- [ ] PostgreSQL –¥–ª—è production
- [ ] Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] Prometheus –º–µ—Ç—Ä–∏–∫–∏
- [ ] Grafana –¥–∞—à–±–æ—Ä–¥—ã

---

## Contributing

–ú—ã –æ—Ç–∫—Ä—ã—Ç—ã –∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º! –û—Ç–∫—Ä–æ–π—Ç–µ Issue –∏–ª–∏ Pull Request.

### –ü—Ä–∞–≤–∏–ª–∞:
1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - see [LICENSE](LICENSE) for details

---

## –ê–≤—Ç–æ—Ä—ã

–ö–æ–º–∞–Ω–¥–∞ T1 Hackathon 2024

**–ö–æ–Ω—Ç–∞–∫—Ç—ã:** [GitHub Issues](../../issues)

---

## Acknowledgments

- **SciBox** –∑–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ BGE-M3 API
- **BAAI** –∑–∞ BGE-M3 –º–æ–¥–µ–ª—å
- **Cloudflare** –∑–∞ —Ç—É–Ω–Ω–µ–ª–∏
- **FastAPI/Streamlit** communities –∑–∞ –æ—Ç–ª–∏—á–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏

